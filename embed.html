<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <title>AnimeDex VideoPlayer</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
        body { background-color: #000; }
        .container { width: 100%; height: 100%; }
        video { width: 100%; height: 100%; }
    </style>

    <!-- Include JWPlayer library -->
    <script src="https://cdn.jwplayer.com/libraries/YOUR_JWPLAYER_VERSION/jwplayer.js"></script>

    <!-- Include JWPlayer CSS if needed -->
    <!-- <link rel="stylesheet" href="https://cdn.jwplayer.com/libraries/YOUR_JWPLAYER_VERSION/jwplayer.css" /> -->
</head>

<body>
    <div class="container">
        <!-- JWPlayer will automatically replace this div with the video player -->
        <div id="jwplayer"></div>
        <button onclick="rewind()">Rewind</button>
        <button onclick="forward()">Forward</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const params = new URLSearchParams(location.search);
            const source = params.get("url");

            // Configure JWPlayer
            const player = jwplayer("jwplayer").setup({
                file: source,
                title: "{{ title }}",
                width: "100%",
                aspectratio: "16:9", // Adjust as needed
                controls: true,
                autostart: false,
                fullscreen: {
                    enabled: true,
                    fallback: false,
                    iosNative: true, // Enable native fullscreen on iOS
                },
                displayDescription: false, // Adjust as needed
            });

            // Handle events or additional customizations as needed
            player.on('play', () => {
                // Custom play event handling
            });

            // Add more event listeners or customizations as needed

            // Function to rewind the video by 10 seconds
            window.rewind = function () {
                player.seek(player.getPosition() - 10);
            };

            // Function to forward the video by 10 seconds
            window.forward = function () {
                player.seek(player.getPosition() + 10);
            };
        });
    </script>
</body>

</html>
